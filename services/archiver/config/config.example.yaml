# Matrix Message Archiver Configuration
# Copy this file to config.yaml and customize for your setup

# Matrix connection settings
matrix:
  homeserver_url: "http://localhost:8008"
  username: "@archiver:your-domain.com"
  password: ""  # Set MATRIX_PASSWORD env var instead
  device_name: "Supabase Matrix Archiver"

# Supabase configuration (set via environment variables for security)
supabase:
  url: ""  # Set SUPABASE_URL env var
  service_role_key: ""  # Set SUPABASE_SERVICE_ROLE_KEY env var

# Rooms to monitor (add your actual room IDs here)
# Get room IDs from Matrix client or use inspect_rooms.py script
rooms:
    - room_id: "!example1:your-domain.com"
      enabled: true
      backfill: true  # Archive historical messages on first run
    - room_id: "!example2:your-domain.com" 
      enabled: true
      backfill: false  # Only archive new messages
    # Add more rooms as needed

# Processing settings
processing:
  max_file_size: "100MB"  # Maximum media file size to archive
  batch_size: 50  # Number of events to process per batch
  sync_timeout: 30000  # Matrix sync timeout in milliseconds

# Logging level (DEBUG, INFO, WARNING, ERROR)
log_level: "INFO"